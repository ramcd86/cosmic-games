"use strict";(self.webpackChunkcosmic_games_frontend=self.webpackChunkcosmic_games_frontend||[]).push([[545],{9545:(h,m,s)=>{s.r(m),s.d(m,{CreateRoomComponent:()=>C});var g=s(467),d=s(5661),n=s(7820),e=s(690),u=s(4163),c=s(1423);function p(r,F){1&r&&(e.j41(0,"div",35)(1,"div",36),e.EFF(2,"Creating room..."),e.k0s()())}function _(r,F){if(1&r&&(e.j41(0,"div",35)(1,"div",37),e.EFF(2),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(t.error)}}let C=(()=>{class r{constructor(t,i){this.router=t,this.gameApiService=i,this.roomName="",this.playerName="",this.maxPlayers=4,this.gameVariant="classic",this.turnTimeLimit=30,this.pointLimit=100,this.allowSpectators=!0,this.isPrivate=!1,this.loading=!1,this.error=""}isFormValid(){return""!==this.roomName.trim()&&""!==this.playerName.trim()}onCreateRoom(){var t=this;return(0,g.A)(function*(){if(t.isFormValid()){t.loading=!0,t.error="";try{localStorage.setItem("currentPlayerName",t.playerName),t.gameApiService.createRoom({name:t.roomName,playerName:t.playerName,settings:{maxPlayers:t.maxPlayers,gameVariant:t.gameVariant,turnTimeLimit:t.turnTimeLimit,pointLimit:t.pointLimit,allowSpectators:t.allowSpectators,isPrivate:t.isPrivate}}).subscribe({next:o=>{o.success&&o.data?(t.gameApiService.setCurrentRoom(o.data.room),localStorage.setItem("activeRoomCode",o.data.room.id),localStorage.setItem("sessionTimestamp",Date.now().toString()),t.router.navigate(["/room",o.data.room.id])):t.error=o.error||"Failed to create room"},error:o=>{console.error("Error creating room:",o),t.error="Failed to create room. Please try again."},complete:()=>{t.loading=!1}})}catch(i){console.error("Error:",i),t.error="Failed to create room. Please try again.",t.loading=!1}}})()}goBack(){this.router.navigate(["/"])}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.Ix),e.rXU(c.k))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-create-room"]],standalone:!0,features:[e.aNF],decls:75,vars:11,consts:[[1,"max-w-2xl","mx-auto"],[1,"casino-panel"],[1,"text-3xl","font-bold","text-gold","mb-8","text-center"],[1,"space-y-6",3,"ngSubmit"],[1,"block","text-casino-silver","font-medium","mb-2"],["type","text","name","roomName","placeholder","Enter room name...","required","",1,"casino-input","w-full",3,"ngModelChange","ngModel"],["type","text","name","playerName","placeholder","Enter your name...","required","",1,"casino-input","w-full",3,"ngModelChange","ngModel"],[1,"grid","md:grid-cols-2","gap-4"],["name","maxPlayers",1,"casino-input","w-full",3,"ngModelChange","ngModel"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["name","gameVariant",1,"casino-input","w-full",3,"ngModelChange","ngModel"],["value","classic"],["value","multiplayer"],["name","turnTimeLimit",1,"casino-input","w-full",3,"ngModelChange","ngModel"],["value","30"],["value","60"],["value","120"],["value","0"],["name","pointLimit",1,"casino-input","w-full",3,"ngModelChange","ngModel"],["value","100"],["value","250"],["value","500"],[1,"space-y-3"],[1,"flex","items-center"],["type","checkbox","name","allowSpectators",1,"mr-3","w-4","h-4","text-casino-gold","bg-casino-charcoal","border-casino-silver","rounded","focus:ring-casino-gold",3,"ngModelChange","ngModel"],[1,"text-casino-silver"],["type","checkbox","name","isPrivate",1,"mr-3","w-4","h-4","text-casino-gold","bg-casino-charcoal","border-casino-silver","rounded","focus:ring-casino-gold",3,"ngModelChange","ngModel"],[1,"flex","gap-4","pt-4"],["type","button",1,"flex-1","bg-casino-charcoal","border","border-casino-silver/30","text-casino-silver","py-3","px-6","rounded-lg","hover:bg-casino-silver/10","transition-colors",3,"click"],["type","submit",1,"flex-1","casino-button",3,"disabled"],["class","text-center mt-6",4,"ngIf"],[1,"text-center","mt-6"],[1,"text-casino-gold"],[1,"text-red-500"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3," Create New Room "),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return o.onCreateRoom()}),e.j41(5,"div")(6,"label",4),e.EFF(7," Room Name "),e.k0s(),e.j41(8,"input",5),e.mxI("ngModelChange",function(a){return e.DH7(o.roomName,a)||(o.roomName=a),a}),e.k0s()(),e.j41(9,"div")(10,"label",4),e.EFF(11," Your Name "),e.k0s(),e.j41(12,"input",6),e.mxI("ngModelChange",function(a){return e.DH7(o.playerName,a)||(o.playerName=a),a}),e.k0s()(),e.j41(13,"div",7)(14,"div")(15,"label",4),e.EFF(16," Max Players "),e.k0s(),e.j41(17,"select",8),e.mxI("ngModelChange",function(a){return e.DH7(o.maxPlayers,a)||(o.maxPlayers=a),a}),e.j41(18,"option",9),e.EFF(19,"2 Players"),e.k0s(),e.j41(20,"option",10),e.EFF(21,"3 Players"),e.k0s(),e.j41(22,"option",11),e.EFF(23,"4 Players"),e.k0s(),e.j41(24,"option",12),e.EFF(25,"5 Players"),e.k0s(),e.j41(26,"option",13),e.EFF(27,"6 Players"),e.k0s()()(),e.j41(28,"div")(29,"label",4),e.EFF(30," Game Variant "),e.k0s(),e.j41(31,"select",14),e.mxI("ngModelChange",function(a){return e.DH7(o.gameVariant,a)||(o.gameVariant=a),a}),e.j41(32,"option",15),e.EFF(33,"Classic Gin Rummy"),e.k0s(),e.j41(34,"option",16),e.EFF(35,"Multiplayer Gin Rummy"),e.k0s()()()(),e.j41(36,"div",7)(37,"div")(38,"label",4),e.EFF(39," Turn Time Limit (seconds) "),e.k0s(),e.j41(40,"select",17),e.mxI("ngModelChange",function(a){return e.DH7(o.turnTimeLimit,a)||(o.turnTimeLimit=a),a}),e.j41(41,"option",18),e.EFF(42,"30 seconds"),e.k0s(),e.j41(43,"option",19),e.EFF(44,"1 minute"),e.k0s(),e.j41(45,"option",20),e.EFF(46,"2 minutes"),e.k0s(),e.j41(47,"option",21),e.EFF(48,"No limit"),e.k0s()()(),e.j41(49,"div")(50,"label",4),e.EFF(51," Point Limit "),e.k0s(),e.j41(52,"select",22),e.mxI("ngModelChange",function(a){return e.DH7(o.pointLimit,a)||(o.pointLimit=a),a}),e.j41(53,"option",23),e.EFF(54,"100 points"),e.k0s(),e.j41(55,"option",24),e.EFF(56,"250 points"),e.k0s(),e.j41(57,"option",25),e.EFF(58,"500 points"),e.k0s()()()(),e.j41(59,"div",26)(60,"label",27)(61,"input",28),e.mxI("ngModelChange",function(a){return e.DH7(o.allowSpectators,a)||(o.allowSpectators=a),a}),e.k0s(),e.j41(62,"span",29),e.EFF(63,"Allow spectators"),e.k0s()(),e.j41(64,"label",27)(65,"input",30),e.mxI("ngModelChange",function(a){return e.DH7(o.isPrivate,a)||(o.isPrivate=a),a}),e.k0s(),e.j41(66,"span",29),e.EFF(67,"Private room (invite only)"),e.k0s()()(),e.j41(68,"div",31)(69,"button",32),e.bIt("click",function(){return o.goBack()}),e.EFF(70," Cancel "),e.k0s(),e.j41(71,"button",33),e.EFF(72," Create Room "),e.k0s()()(),e.DNE(73,p,3,0,"div",34)(74,_,3,1,"div",34),e.k0s()()),2&i&&(e.R7$(8),e.R50("ngModel",o.roomName),e.R7$(4),e.R50("ngModel",o.playerName),e.R7$(5),e.R50("ngModel",o.maxPlayers),e.R7$(14),e.R50("ngModel",o.gameVariant),e.R7$(9),e.R50("ngModel",o.turnTimeLimit),e.R7$(12),e.R50("ngModel",o.pointLimit),e.R7$(9),e.R50("ngModel",o.allowSpectators),e.R7$(4),e.R50("ngModel",o.isPrivate),e.R7$(6),e.Y8G("disabled",!o.isFormValid()),e.R7$(2),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",o.error))},dependencies:[d.MD,d.bT,n.YN,n.qT,n.xH,n.y7,n.me,n.Zm,n.wz,n.BC,n.cb,n.YS,n.vS,n.cV],encapsulation:2})}}return r})()}}]);